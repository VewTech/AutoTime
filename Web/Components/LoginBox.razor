@using Library.Schemas;

<p>Utiliza tus credenciales de intratime para iniciar sesión en el servicio</p>

<EditForm Model="_myUserLogin" OnValidSubmit="OnSubmitButtonClicked">

    <label for="email">Correo:</label>
    <InputText @bind-Value="_myUserLogin.Email" id="email"></InputText>

    <br />
 
    <label for="password">Contraseña:</label>
    <InputText @bind-Value="_myUserLogin.Password" id="password" type="password"></InputText>

    <br />
    
    <input type="submit" value="ACEPTAR"/>

    <DataAnnotationsValidator></DataAnnotationsValidator>
    <ValidationSummary></ValidationSummary>

</EditForm>

@code {

    /// <summary>
    /// The schema object containing the login information.
    /// </summary>
    private UserLogin _myUserLogin = new();

    /// <summary>
    /// The event that will be fired when the form is submitted.
    /// </summary>
    [Parameter] public EventCallback<UserLogin> OnSubmitted { get; set; }

    /// <summary>
    /// The method that fires the OnSubmitted event with the UserLogin parameter.
    /// </summary>
    private async void OnSubmitButtonClicked(EditContext editContext)
    {
        await OnSubmitted.InvokeAsync(_myUserLogin);
    }
}
